<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

  <mapper namespace="Board">
   <delete id="Board.boardDel" parameterType="String">
   		delete from KRboard where boardId=#{boardId}
   </delete>
   <select id="Board.boardGet" parameterType="String" resultType="board.BoardDataBean">
   		select * from KRboard where boardId=#{boardId}
   </select>
   <select id="Board.boardList" resultType="board.BoardDataBean" parameterType="java.util.Map">
   		 select boardId, boardContent, boardStatus, boardParentId, boarduserid, boardregdate,r 
		from (select boardId, boardContent, boardStatus, boardParentId, boarduserid, boardregdate,rowNum r from
		(select boardId, boardContent, boardStatus, boardParentId, boarduserid, boardregdate
		 from KRboard) 
		) where r &gt;= #{start} and r &lt;= #{end} 
   </select>
   <select id="Board.boardCnt" resultType="int">
   		select count(*) from KRboard
   </select>
   <update id="Board.boardMod" parameterType="board.BoardDataBean">
   		update KRboard set boardContent=#{boardContent} where boardId=#{boardId}
   </update>
   <insert id="Board.boardWrt" parameterType="board.BoardDataBean">
   		insert into KRboard(boardId, boardContent, boardStatus, boardParentId, boarduserId, boardregdate)
        values(#{boardId}, #{boardContent}, #{boardStatus}, #{boardParentId}, #{userId},
         #{boardregdate} )
   </insert>
   <select id="Board.selectMax" resultType="int">
        select max( boardParentId ) from KRboard
    </select>
    <select id="Board.selectId" resultType="String">
    	select boardId from KRboard
    </select>

   	<select id="Board.userSelCnt" parameterType="String" resultType="int">
   		select count(*) from KRboard where boarduserId=${userId}
   	</select>
   	<select id="Board.userSel" parameterType="String" resultType="board.BoardDataBean">
   		select boardId, boardContent, boardStatus, boardParentId, boarduserid, boardregdate,r 
		from (select boardId, boardContent, boardStatus, boardParentId, boarduserid, boardregdate,rowNum r from
		(select boardId, boardContent, boardStatus, boardParentId, boarduserid, boardregdate
		 from KRboard where boarduserId=${userId}) 
		) where r &gt;= #{start} and r &lt;= #{end} 
   	</select>
   	<select id="Board.Sel" parameterType="String" resultType="board.BoardDataBean">
   		select * from KRboard where boarduserId=${userId}
   	</select>
    </mapper>

    <select id="getAdm" resultType="board.BoardDataBean">
   		 select * from KRboard where boardId LIKE '0%' ORDER BY BOARDREGDATE DESC
   </select>
</mapper>

   